# AGENTS.md - OpenCode агенты

## Структура агентов

### Основные агенты (primary)

| Агент   | Описание                           | Инструменты       |
| ------- | ---------------------------------- | ----------------- |
| `build` | Основной режим разработки          | write, edit, bash |
| `plan`  | Режим планирования (только чтение) | none              |

### Субагенты (subagent)

| Агент      | Описание                                  | Инструменты       |
| ---------- | ----------------------------------------- | ----------------- |
| `analyst`  | Аналитик задач и планировщик              | none              |
| `coder`    | Fullstack разработчик                     | write, edit, bash |
| `tester`   | Тестировщик                               | write, edit, bash |
| `reviewer` | Ревьюер безопасности и производительности | bash (read-only)  |
| `deployer` | DevOps - деплой и проверка                | bash (read-only)  |

## Использование в opencode CLI

### Переключение между агентами

- `Tab` - переключение между основными агентами (build/plan)

### Вызов субагентов

```
@analyst проанализируй задачу
@coder реализуй функционал
@tester напиши тесты
@reviewer проверь код
@deployer разверни проект
```

## Конфигурация

Файл: `opencode.json`

### Параметры агента:

- `mode` - `primary` или `subagent`
- `model` - используемая модель ИИ
- `temperature` - креативность ответов
- `tools` - доступные инструменты
- `permission` - разрешения на действия
- `description` - описание агента

## Процесс разработки

1. **Аналитик** → анализ задачи → PLAN.md
2. **Кодер** → реализация по плану → CODER_REPORT.md
2. **Тестировщик** → покрытие тестами → TEST_REPORT.md
3. **Ревьюер** → проверка кода → REVIEW_REPORT.md
4. **Деплойер** → развертывание → DEPLOY_STATUS.md

При `REJECTED` возвращается к Кодеру для исправления (макс. 3 попытки).
